<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Londy的博客</title>
  
  <subtitle>每天的今天都是唯一的</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://londy.cc/"/>
  <updated>2018-11-23T06:16:19.982Z</updated>
  <id>http://londy.cc/</id>
  
  <author>
    <name>Londy</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>一键快速申请Let&#39;s Encrypt泛域名SSL证书及证书安装方法</title>
    <link href="http://londy.cc/2018/11/22/%E6%B3%9B%E5%9F%9F%E5%90%8D%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7/"/>
    <id>http://londy.cc/2018/11/22/泛域名证书申请/</id>
    <published>2018-11-22T02:03:15.000Z</published>
    <updated>2018-11-23T06:16:19.982Z</updated>
    
    <content type="html"><![CDATA[<p>Let’s Encrypt是目前使用最为广泛的免费SSL证书，早在2017年7月份起Let’s Encrypt官方就发布将在2018年上线泛域名免费SSL证书。现在终于可以申请Let’s Encrypt的泛域名免费SSL证书。暂时只能通过DNS方式获取，支持的DNS解析有很多，国内可以通过腾讯云的DNSPod.cn域名API和阿里云域名API自动颁发Let’s Encrypt泛域名免费SSL证书。</p><h3 id="Let’s-Encrypt泛域名申请准备工作"><a href="#Let’s-Encrypt泛域名申请准备工作" class="headerlink" title="Let’s Encrypt泛域名申请准备工作"></a>Let’s Encrypt泛域名申请准备工作</h3><p>这篇文章后面用到的一键申请Let’s Encrypt泛域名SSL证书，是利用第三方域名DNS API接口快速申请的，如果我们域名有用哪家的DNS，然后到对应的商家申请API。</p><h3 id="安装依赖程序"><a href="#安装依赖程序" class="headerlink" title="安装依赖程序"></a>安装依赖程序</h3><ol><li>Debian/Ubuntu</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update -y &amp;&amp; apt install  -y curl cron socat</span><br></pre></td></tr></table></figure><ol start="2"><li>Centos</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum update -y &amp;&amp; yum install  -y curl cron socat</span><br></pre></td></tr></table></figure><h3 id="下载ACME-SH"><a href="#下载ACME-SH" class="headerlink" title="下载ACME.SH"></a>下载ACME.SH</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://get.acme.sh | sh</span><br></pre></td></tr></table></figure><h3 id="获取域名API"><a href="#获取域名API" class="headerlink" title="获取域名API"></a>获取域名API</h3><p>方法很简单，如果是腾讯云注册的域名，默认使用的是DNSPod.cn，然后把要申请免费证书的域名接入到DNSPod，并使用DNSPod的NS服务器进行解析。然后再按下图操作创建API。创建API后需要注意，弹出的窗口显示完整的“Token”，并且只显示这一次，所以请一定复制保存好。</p><h3 id="申请安装证书"><a href="#申请安装证书" class="headerlink" title="申请安装证书"></a>申请安装证书</h3><ol><li>依次输入下面代码。DP_Id=””中请填写你的ID，DP_Key=””中请填写Token。</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export DP_Id=&quot;*****&quot;</span><br><span class="line">export DP_Key=&quot;******&quot;</span><br></pre></td></tr></table></figure><ol start="2"><li>输入下面命令申请免费SSL证书。其中代码中的“londy.cc”请改成自己域名即可。</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~/.acme.sh/acme.sh --issue --dns dns_dp -d londy.cc -d *.londy.cc</span><br></pre></td></tr></table></figure><ol start="3"><li><p>接下来脚本会自动等待 120 秒来验证信息，签发成功后，就会给出 CSR、KEY、CERT 保存的路径  <code>/root/.acme.sh/londy.cc/</code></p></li><li><p>显示如下信息表示申请成功。</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[Fri Jan 22 10:51:59 CST 2018] Your cert is in  /root/.acme.sh/londy.cc/londy.cc.cer</span><br><span class="line">[Fri Jan 22 10:51:59 CST 2018] Your cert key is in  /root/.acme.sh/londy.cc/londy.cc.key</span><br><span class="line">[Fri Jan 22 10:51:59 CST 2018] The intermediate CA cert is in  /root/.acme.sh/londy.cc/ca.cer</span><br><span class="line">[Fri Jan 22 10:51:59 CST 2018] And the full chain certs is there:  /root/.acme.sh/londy.cc/fullchain.cer</span><br></pre></td></tr></table></figure><ol start="5"><li>将证书托管到腾讯云，然后再将 londy.cc.cer 的内容填到证书栏，将 londy.cc.key 的内容填到私钥栏，再点击上传证书即可。</li></ol><h3 id="自动续期"><a href="#自动续期" class="headerlink" title="自动续期"></a>自动续期</h3><p>输入<code>crontab -l</code> 查看自动执行的脚本任务，看到如下脚本，证明自动续期已添加</p><p><code>15 0 * * * &quot;/root/.acme.sh&quot;/acme.sh --cron --home &quot;/root/.acme.sh&quot; &gt;</code></p><p>到期自动续期！不放心可手动执行该脚本！</p><h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><ol><li>在申请签发的过程中创建API后需要注意，弹出的窗口显示完整的“Token”，并且只显示这一次，所以请一定复制保存好。</li><li>下载 <code>acme.sh</code>脚本需要在 <code>acme.sh</code> 以及 <code>github.com</code> 拉取文件，所以国内的一些机器可能无法正常运行(一般服务器自带<code>acme.sh</code>)。</li><li>签发的证书有效期为 3 个月，之后需要重新申请。</li></ol><p>如果你想查看其他DNS商家申请方法，可以<a href="https://github.com/Neilpang/acme.sh/blob/master/dnsapi/README.md" target="_blank" rel="noopener">点击此处</a>：</p>]]></content>
    
    <summary type="html">
    
      一键快速申请Let&#39;s Encrypt泛域名SSL证书及证书安装方法
    
    </summary>
    
      <category term="随笔" scheme="http://londy.cc/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="nginx" scheme="http://londy.cc/tags/nginx/"/>
    
      <category term="ssl" scheme="http://londy.cc/tags/ssl/"/>
    
  </entry>
  
  <entry>
    <title>Vh和Vw的基本认识</title>
    <link href="http://londy.cc/2018/07/04/vw-wh/"/>
    <id>http://londy.cc/2018/07/04/vw-wh/</id>
    <published>2018-07-04T06:18:42.000Z</published>
    <updated>2018-07-25T05:47:41.212Z</updated>
    
    <content type="html"><![CDATA[<h2 id="视口单位"><a href="#视口单位" class="headerlink" title="视口单位"></a>视口单位</h2><ul><li>vw = view width</li><li>vh = view height</li></ul><p>这两个单位是CSS3引入的，以上称为视口单位允许我们更接近浏览器窗口定义大小。</p><p>Q：什么是视口？A：在桌面端，视口指的是浏览器的可视区域；而在移动端，它涉及3个视口：Layout Viewport（布局视口），Visual Viewport（视觉视口），Ideal Viewport（理想视口）。</p><p>视口单位中的“视口”，桌面端指的是浏览器的内部的可视区域大小；移动端指的就是Viewport中的Layout Viewport。</p><h2 id="vh-vw与-区别"><a href="#vh-vw与-区别" class="headerlink" title="vh/vw与%区别"></a>vh/vw与%区别</h2><table><thead><tr><th style="text-align:center">单位</th><th style="text-align:center">含义</th></tr></thead><tbody><tr><td style="text-align:center">vw</td><td style="text-align:center">1vw = 视口宽度的1%</td></tr><tr><td style="text-align:center">vh</td><td style="text-align:center">1vh = 视口高度的1%</td></tr><tr><td style="text-align:center">vmin</td><td style="text-align:center">选取vw和vh中最小的那个</td></tr><tr><td style="text-align:center">vmax</td><td style="text-align:center">选取vw和vh中最大的那个</td></tr></tbody></table><blockquote><p>比如：浏览器视口尺寸为370px,那么 1vw = 370px * 1% = 3.7px(浏览器会四舍五入向下取4)</p></blockquote><p>就是说视口宽度为100vw&amp;100vh</p><h2 id="兼容问题"><a href="#兼容问题" class="headerlink" title="兼容问题"></a>兼容问题</h2><p>在移动端 iOS 9 以上以及 Android 4.4 以上获得支持，并且在微信 x5 内核中也得到完美的全面支持。</p><p><a href="https://caniuse.com/#search=vw" target="_blank" rel="noopener">兼容性</a></p><h2 id="rem与em的区别："><a href="#rem与em的区别：" class="headerlink" title="rem与em的区别："></a>rem与em的区别：</h2><ul><li><p>rem是相对于根元素（html）的字体大小，而em是相对于其父元素的字体大小著作权归作者所有。</p></li><li><p>em最多取到小数点的后三位</p></li></ul><p>如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-tag">html</span>&#123; <span class="attribute">font-size</span>: <span class="number">20px</span>; &#125;</span></span><br><span class="line"><span class="undefined">  body&#123; </span></span><br><span class="line"><span class="css">    <span class="selector-tag">font-size</span>: 1<span class="selector-class">.4rem</span>;  <span class="comment">/* 1rem = 28px */</span></span></span><br><span class="line"><span class="css">    <span class="selector-tag">padding</span>: 0<span class="selector-class">.7rem</span>;  <span class="comment">/* 0.7rem = 14px */</span></span></span><br><span class="line"><span class="undefined">  &#125; </span></span><br><span class="line"><span class="undefined">  div&#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">padding</span>: 1<span class="selector-tag">em</span>;  <span class="comment">/* 1em = 28px */</span></span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined">  span&#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">font-size</span><span class="selector-pseudo">:1rem</span>;  <span class="comment">/* 1rem = 20px */</span></span></span><br><span class="line"><span class="css">    <span class="selector-tag">padding</span>: 0<span class="selector-class">.9em</span>;  <span class="comment">/* 1em = 18px */</span></span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>   </span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>注意：</strong> 当元素自身设置了字体大小，那么如果它的其他css属性也使用em单位，则会基于它自身的字体大小。（就像上面例子的span的padding一样）著作权归作者所有。</p><p>基于上面这些原因，建议使用rem，因为em使用不当的话，当出现多层继承时，会很容易混淆如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">  <span class="selector-tag">html</span>&#123; <span class="attribute">font-size</span>: <span class="number">20px</span>; &#125;</span></span><br><span class="line"><span class="undefined">  body&#123; </span></span><br><span class="line"><span class="css">    <span class="selector-tag">font-size</span>: 0<span class="selector-class">.9em</span>;  <span class="comment">/* 1rem = 18px */</span></span></span><br><span class="line"><span class="undefined">  &#125; </span></span><br><span class="line"><span class="undefined">  div&#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">font-size</span>: 0<span class="selector-class">.8em</span>;  <span class="comment">/* 1em = 14.4px */</span></span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined">  span&#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">font-size</span>: 0<span class="selector-class">.9em</span>;  <span class="comment">/* 1rem = 12.96px */</span></span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>   </span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>容易造成混乱，最后自己都不知道某元素的实际字体大小了；</p><p><a href="https://caniuse.com/#search=rem" target="_blank" rel="noopener">兼容性</a></p><p>当然，em和rem各有优缺点，简单的使用规则：</p><ul><li>如果这个属性根据它的font-size进行测量，则使用em；</li><li>其他的一切事物属性均使用rem;</li></ul><p>两者都不使用的情况：</p><ul><li>多列布局，一般使用百分比%</li></ul><p>这里提供了一个px、em、rem单位的转换工具 <a href="http://pxtoem.com/" target="_blank" rel="noopener">http://pxtoem.com/</a></p><h2 id="运用"><a href="#运用" class="headerlink" title="运用"></a>运用</h2><p>仅使用vw作为CSS单位</p><ol><li>根据设计稿的尺寸转换为vw单位(SASS函数编译)</li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//iPhone 6尺寸作为设计稿基准</span><br><span class="line">$vm_base: 375</span><br><span class="line">@<span class="keyword">function</span> vm($px)</span><br><span class="line">  @return ($px / $vm_base) * <span class="number">100vw</span></span><br></pre></td></tr></table></figure><h2 id="CSS3计算calc和vw单位巧妙实现滚动条出现页面不跳动"><a href="#CSS3计算calc和vw单位巧妙实现滚动条出现页面不跳动" class="headerlink" title="CSS3计算calc和vw单位巧妙实现滚动条出现页面不跳动"></a>CSS3计算calc和vw单位巧妙实现滚动条出现页面不跳动</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrap-outer</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="built_in">calc</span>(100vw - 100%)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>calc是CSS3中的计算，IE10+浏览器支持，IE9浏览器基本支持(不能用在background-position上)； <a href="https://caniuse.com/#search=calc" target="_blank" rel="noopener">兼容性</a></p></li><li><p>100vw相对于浏览器的window.innerWidth，是浏览器的内部宽度，注意，滚动条宽度也计算在内！而100%是可用宽度，是不含滚动条的宽度。</p></li><li><p>calc(100vw - 100%)就是浏览器滚动条的宽度大小（如果有，如果没有滚动条则是0）！左右都有一个滚动条宽度（或都是0）被占用，主体内容就可以永远居中浏览器啦，从而没有任何跳动！</p></li></ul>]]></content>
    
    <summary type="html">
    
      Vh和Vw的简介和使用
    
    </summary>
    
      <category term="前端" scheme="http://londy.cc/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="css" scheme="http://londy.cc/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>圣杯布局和双飞翼布局介绍</title>
    <link href="http://londy.cc/2018/05/28/%E5%9C%A3%E6%9D%AF%E5%B8%83%E5%B1%80%E5%92%8C%E5%8F%8C%E9%A3%9E%E7%BF%BC%E5%B8%83%E5%B1%80/"/>
    <id>http://londy.cc/2018/05/28/圣杯布局和双飞翼布局/</id>
    <published>2018-05-28T02:58:05.000Z</published>
    <updated>2018-06-04T02:56:15.180Z</updated>
    
    <content type="html"><![CDATA[<h2 id="圣杯布局介绍"><a href="#圣杯布局介绍" class="headerlink" title="圣杯布局介绍"></a>圣杯布局介绍</h2><p>圣杯布局是讨论「三栏液态布局」的实现，它最早出自于谁或许不得而查了，但最早的完美实现是来自于 Matthew Levine 于2006年在「A LIST APART」上写的一篇文章，它主要讲述了网页中关于最佳圣杯的实现方法。<a href="http://alistapart.com/article/holygrail" target="_blank" rel="noopener">地址</a></p><blockquote><p>所谓液态布局是相对固态布局而言的，固态布局就是固定值不变的布局，液态就好比在容器里到了一杯水，它可以随着容器宽度的变化而自适应宽度。</p></blockquote><p>一般来说，在正常的DOW树中表现为先写Left，然后Middle，最后Right，它可能会导致代码不够灵活，尤其是从DOM的载入顺序来说，中间的内容不能被首先加载；</p><p>因此提出者给出了一个较好的方案：</p><ol><li>两边带有固定宽度中间可以流动（fluid）；</li><li>允许中间一栏最先出现；</li><li>允许任意一栏放在最上面；</li><li>仅需一个额外的 div 标签</li><li>仅需非常简单的 CSS，带上最少的兼容性补丁</li></ol><p>最终效果：<a href="http://alistapart.com/d/holygrail/example_1.html" target="_blank" rel="noopener">地址</a></p><h3 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h3><p>例如，我们现在需要一个左边宽度为200px，右边宽度为150px，中间宽度为流动的布局；</p><p>基本html代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"header"</span>&gt;</span>#header<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"center"</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span>#center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"left"</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span>#left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"right"</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span>#right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"footer"</span>&gt;</span>#footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>css部分：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#container</span> &#123;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#container</span> <span class="selector-class">.column</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#center</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#e9e9e9</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#left</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#right</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">background</span>: blue;</span><br><span class="line">  <span class="attribute">margin-right</span>: -<span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#footer</span> &#123;</span><br><span class="line">  <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#header</span>,</span><br><span class="line"><span class="selector-id">#footer</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#c9c9c9</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*** IE6 Fix ***/</span></span><br><span class="line">* <span class="selector-tag">html</span> <span class="selector-id">#left</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="comment">/* RC width */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="双飞翼布局介绍"><a href="#双飞翼布局介绍" class="headerlink" title="双飞翼布局介绍"></a>双飞翼布局介绍</h2><p>与圣杯布局相比，双飞翼HTML中为中间元素添加了一个子元素<code>center-wrap</code>,这个小小的改动是为了之后处理中间内容被遮盖的问题，这也是两者实现方式最大的不同点，下面继续。</p><p>基本html结构：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"center"</span> <span class="attr">class</span>=<span class="string">"col"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"center-wrap"</span>&gt;</span></span><br><span class="line">      #center</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"left"</span> <span class="attr">class</span>=<span class="string">"col"</span>&gt;</span></span><br><span class="line">    #left</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"right"</span> <span class="attr">class</span>=<span class="string">"col"</span>&gt;</span></span><br><span class="line">    #right</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.col</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#center</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#center-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">150px</span> <span class="number">0</span> <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#left</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#0000FF</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#right</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#FF0000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>最终效果：<a href="https://codepen.io/londy-hs/pen/jKNbKW" target="_blank" rel="noopener">地址</a></p><p><b>总结：</b></p><p>  与圣杯布局相比较，双飞翼布局相对来说能更好的理解，代码量也相对较少，也没有使用相对定位这些敏感的属性， 建议使用双飞翼布局；</p>]]></content>
    
    <summary type="html">
    
      圣杯布局和双飞翼布局介绍
    
    </summary>
    
      <category term="前端" scheme="http://londy.cc/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="html" scheme="http://londy.cc/tags/html/"/>
    
      <category term="css" scheme="http://londy.cc/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>七种实现左侧固定，右侧自适应两栏布局的方法</title>
    <link href="http://londy.cc/2018/05/25/layout/"/>
    <id>http://londy.cc/2018/05/25/layout/</id>
    <published>2018-05-25T08:43:27.000Z</published>
    <updated>2018-06-04T02:56:15.178Z</updated>
    
    <content type="html"><![CDATA[<p>总结一下左边固定，右边自适应的两栏布局的七种方法。其中有老生常谈的float方法,BFC方法，也有CSS3的flex布局与grid布局。并非所有的布局都会在开发中使用，但是其中也会涉及一些知识点。关于最终的效果，可以查看<a href="https://zhuqingguang.github.io/vac-works/cssLayout/index1.html" target="_blank" rel="noopener">这里</a></p><p>注：在这里<code>block</code>就是指块级元素，<code>inline</code>就是指行内元素;<br>首先创建基本的HTML布局和最基本的样式。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span></span><br><span class="line">    左边固定宽度，高度不固定,高度有可能会很小，也可能很大。</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">    这里的内容可能比左侧高，也可能比左侧低。宽度需要自适应。<span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">    基本的样式是，两个div相距20px, 左侧div宽 120px</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>基本的样式是，两个盒子相距20px, 左侧盒子宽 120px，右侧盒子宽度自适应。基本的CSS样式如下:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrapper</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">15px</span> <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> dashed <span class="number">#ff6c60</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">120px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>下面的代码都是基于这套基本代码做覆盖，通过给容器添加不同的类来实现效果。</p><h2 id="双inline-block方案"><a href="#双inline-block方案" class="headerlink" title="双inline-block方案"></a>双inline-block方案</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrapper-inline-block</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0</span>;   <span class="comment">/* 消除空格的影响 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper-inline-block</span> <span class="selector-class">.left</span>,</span><br><span class="line"><span class="selector-class">.wrapper-inline-block</span> <span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">vertical-align</span>: top;    <span class="comment">/*顶端对齐*/</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper-inline-block</span> <span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">calc</span>(100% - 140px); <span class="comment">/*这里使用了calc函数，来进行响应式布局*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这种方法是通过<code>width: calc(100% - 140px)</code>来动态计算右侧盒子的宽度。需要知道右侧盒子距离左边的距离，以及左侧盒子具体的宽度<code>(content+padding+border)</code>，以此计算父容器宽度的100%需要减去的数值。同时，还需要知道右侧盒子的宽度是否包含<code>border</code>的宽度。<br>在这里，为了简单的计算右侧盒子准确的宽度，设置了子元素的<code>box-sizing:border-box;</code>以及父元素的<code>box-sizing: content-box;</code>。<br>同时，作为两个<code>inline-block</code>的盒子，必须设置<code>vertical-align</code>来使其顶端对齐。<br>另外，为了准确地应用计算出来的宽度，需要消除<code>div</code>之间的空格，需要通过设置父容器的<code>font-size: 0;</code>,或者用注释消除html中的空格等方法。</p><p><b>缺点</b> :</p><blockquote><ul><li>需要知道左侧盒子的宽度，两个盒子的距离，还要设置各个元素的box-sizing</li><li>需要消除空格字符的影响 （内联元素会受换行的影响，而有空白字符）</li><li>需要设置vertical-align: top满足顶端对齐。</li></ul></blockquote><h2 id="双float方案"><a href="#双float方案" class="headerlink" title="双float方案"></a>双float方案</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrapper-double-float</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;        <span class="comment">/*清除浮动*/</span></span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper-double-float</span> <span class="selector-class">.left</span>,</span><br><span class="line"><span class="selector-class">.wrapper-double-float</span> <span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper-double-float</span> <span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">calc</span>(100% - 140px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>本方案和双<code>inline-block</code>方案原理相同，都是通过动态计算宽度来实现自适应。但是，由于浮动的<code>block</code>元素在有空间的情况下会依次紧贴，排列在一行，所以无需设置<code>display: inline-block;</code>，自然也就少了顶端对齐，空格字符占空间等问题。不过由于应用了浮动，父元素需要清除浮动。</p><p><b>缺点</b> :</p><blockquote><ul><li>需要知道左侧盒子的宽度，两个盒子的距离，还要设置各个元素的box-sizing。</li><li>父元素需要清除浮动。</li></ul></blockquote><p>清楚浮动的方法请移步<a href="https://segmentfault.com/a/1190000010160251" target="_blank" rel="noopener">这里</a></p><h2 id="float-margin-left方案"><a href="#float-margin-left方案" class="headerlink" title="float+margin-left方案"></a>float+margin-left方案</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrapper-float</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;        <span class="comment">/*清除浮动*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper-float</span> <span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper-float</span> <span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面两种方案都是利用了CSS的<code>calc()</code>函数来计算宽度值。下面两种方案则是利用了<code>block</code>级别的元素盒子的宽度具有填满父容器，并随着父容器的宽度自适应的流动特性。<br>但是<code>block</code>级别的元素都是独占一行的，所以要想办法让两个<code>block</code>排列到一起。<br>我们知道，<code>block</code>级别的元素会认为浮动的元素不存在，但是<code>inline</code>级别的元素能识别到浮动的元素。这样，block级别的元素就可以和浮动的元素同处一行了。<br>为了让右侧盒子和左侧盒子保持距离，需要为左侧盒子留出足够的距离。这个距离的大小为左侧盒子的宽度以及两个盒子之间的距离之和。然后将该值设置为右侧盒子的<code>margin-left</code>。</p><p><b>缺点</b> :</p><blockquote><ul><li>需要清除浮动</li><li>需要计算右侧盒子的margin-left</li></ul></blockquote><h2 id="使用absolute-margin-left方法"><a href="#使用absolute-margin-left方法" class="headerlink" title="使用absolute+margin-left方法"></a>使用absolute+margin-left方法</h2><p>另外一种让两个block排列到一起的方法是对左侧盒子使用position: absolute的绝对定位。这样，右侧盒子也能无视掉它。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrapper-absolute</span> <span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>；</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper-absolute</span> <span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>缺点</b> :</p><blockquote><ul><li>使用了绝对定位，若是用在某个div中，需要更改父容器的position。</li><li>没有清除浮动的方法，若左侧盒子高于右侧盒子，就会超出父容器的高度。因此只能通过设置父容器的min-height来放置这种情况。（因为定位元素已经脱离正常的文档流）</li></ul></blockquote><h2 id="使用float-BFC方法"><a href="#使用float-BFC方法" class="headerlink" title="使用float+BFC方法"></a>使用float+BFC方法</h2><p>上面的方法都需要通过左侧盒子的宽度，计算某个值，下面三种方法都是不需要计算的。只需要设置两个盒子之间的间隔。</p><p>W3C对BFC的定义如下：</p><p>浮动元素和绝对定位元素，非块级盒子的块级容器（例如 inline-blocks, table-cells, 和 table-captions），以及overflow值不为“visiable”的块级盒子，都会为他们的内容创建新的BFC（块级格式上下文）。</p><p>为了便于理解，我们换一种方式来重新定义BFC。一个HTML元素要创建BFC，则满足下列的任意一个或多个条件即可：</p><ol><li>float的值不是none。</li><li>position的值不是static或者relative。</li><li>display的值是inline-block、table-cell、flex、table-caption或者inline-flex</li><li>overflow的值不是visible</li></ol><p>BFC是一个独立的布局环境，其中的元素布局是不受外界的影响，并且在一个BFC中，块盒与行盒（行盒由一行中所有的内联元素所组成）都会垂直的沿着其父元素的边框排列。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrapper-float-bfc</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper-float-bfc</span> <span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper-float-bfc</span> <span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个方案同样是利用了左侧浮动，但是右侧盒子通过overflow: auto;形成了BFC，因此右侧盒子不会与浮动的元素重叠。</p><p>这种情况下，只需要为左侧的浮动盒子设置margin-right，就可以实现两个盒子的距离了。而右侧盒子是block级别的，所以宽度能实现自适应。</p><p><b>缺点</b> :</p><blockquote><ul><li>父元素需要清除浮动</li></ul></blockquote><h2 id="flex方案"><a href="#flex方案" class="headerlink" title="flex方案"></a>flex方案</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/CSS_layout/Flexbox" target="_blank" rel="noopener">flex弹性布局文档</a></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrapper-flex</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: flex-start;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper-flex</span> <span class="selector-class">.left</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper-flex</span> <span class="selector-class">.right</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span> <span class="number">1</span> auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>flex可以说是最好的方案了，代码少，使用简单。有朝一日，大家都改用现代浏览器，就可以使用了。<br>需要注意的是，flex容器的一个默认属性值:align-items: stretch;。这个属性导致了列等高的效果。<br>为了让两个盒子高度自动，需要设置: align-items: flex-start;</p><h2 id="grid方案"><a href="#grid方案" class="headerlink" title="grid方案"></a>grid方案</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Grid_Axis" target="_blank" rel="noopener">grid二维布局文档</a></p><p>又一个新型的布局方式。可以满足需求，但这并不是它发挥用处的真正地方。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrapper-grid</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">120px</span> <span class="number">1</span>fr;</span><br><span class="line">  <span class="attribute">align-items</span>: start;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper-grid</span> <span class="selector-class">.left</span>,</span><br><span class="line"><span class="selector-class">.wrapper-grid</span> <span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper-grid</span> <span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper-grid</span> <span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><b>注意:</b></p><ul><li>grid布局也有列等高的默认效果。需要设置: align-items: start;。</li><li>grid布局还有一个值得注意的小地方和flex不同:在使用margin-left的时候，grid布局默认是box-sizing设置的盒宽度之间的位置。而flex则是使用两个div的border或者padding外侧之间的距离。</li></ul><h2 id="极限情况"><a href="#极限情况" class="headerlink" title="极限情况"></a>极限情况</h2><p>最后可以再看一下在父容器极限小的情况下，不同方案的表现。主要分成四种情况：</p><ul><li><p>动态计算宽度的情况:<br>两种方案: 双inline-block方案和双float方案。宽度极限小时，右侧的div宽度会非常小，由于遵循流动布局，所以右侧div会移动到下一行。</p></li><li><p>动态计算右侧margin-left的情况: 两种方案: float+margin-left方案和absolute+margin-left方案。宽度极限小时，由于右侧的div忽略了文档流中左侧div的存在，所以其依旧会存在于这一行，并被隐藏。</p></li><li><p>float+BFC方案的情况: 这种情况下，由于BFC与float的特殊关系，右侧div在宽度减小到最小后，也会掉落到下一行。</p></li><li><p>flex和grid的情况: 这种情况下，默认两种布局方式都不会放不下的div移动到下一行。不过 flex布局可以通过 flex-flow: wrap;来设置多余的div移动到下一行。 grid布局暂不支持。</p></li></ul><p><b>注：</b>本文摘录出自<a href="https://zhuqingguang.github.io/2017/08/16/adapting-two-layout/" target="_blank" rel="noopener">这里</a></p>]]></content>
    
    <summary type="html">
    
      七种实现左侧固定，右侧自适应两栏布局的方法
    
    </summary>
    
      <category term="前端" scheme="http://londy.cc/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="html" scheme="http://londy.cc/tags/html/"/>
    
      <category term="css" scheme="http://londy.cc/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>CSS布局-对齐方式</title>
    <link href="http://londy.cc/2018/05/24/cssalign/"/>
    <id>http://londy.cc/2018/05/24/cssalign/</id>
    <published>2018-05-24T07:24:21.000Z</published>
    <updated>2018-06-04T02:56:15.178Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、水平居中"><a href="#一、水平居中" class="headerlink" title="一、水平居中"></a>一、水平居中</h2><h3 id="行内元素的水平居中"><a href="#行内元素的水平居中" class="headerlink" title="行内元素的水平居中"></a>行内元素的水平居中</h3><p>如果被设置元素为文本、图片等行内元素时，在父元素中设置<code>text-align:center</code>实现行内元素水平居中，将子元素的display设置为inline-block，使子元素变成行内元素，这时候行内元素不会继承父元素的宽度，它宽度为其内容的宽度；</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAApAAAAA3CAYAAAC7M3ovAAADrElEQVR4nO3d%0Av2pbVxzA8Z9L6AsIUtDcwYsLxTIdOkUYJDI0D5AuEQUZjx3sgDXKYHfwaCwI%0A8tJnMDaYmzlYEHAXv0AFNWjv5urGfyLbSslR6l4kfz4gDfceXZ3xi849V3ML%0Aiz9eBAAAfKYnX8ffRc8B4It0Op2ipzCRZrNZ9BQAJvJV0RMAAGC6CEgAAJII%0ASAAAkghIAACSCEgAAJIISAAAkghIAACSCEgAAJIISAAAkghIAACSCEgAAJII%0ASAAAkghIAACSCEgAAJIISAAAkghIAACSCEgAAJIISAAAkghIAACSCEgAAJI8%0AKXoCAP+F0zeVaOyNObHSjd4v3/3v8wGYZQISmCGr0e014mMuDuLwdS0qleGZ%0A/V40FgqcGsAMsYQNzLBS1Ld60dtfjd1Xa3F4XvR8AGaDgARm38KLaC9n0do5%0AjMHo8fPDWKtUonL9en37fL4sXql04/TOuO4f+dn8182Rz745HfPFp9Edvf7w%0AtXY0GDMOYLoISOARKMXSs2rEcT/+vD6UR+HzVsTmUfR6veHrKNrRitqdiIzY%0AjcZOxPr1mOXhkVd5DNai/7J3+dmDdlT3Grfj8EN0NuLs5vqX42Kj9onYBJge%0AAhJ4FErl+eH7WfQ/LGMP4nCnFdlyO9ZrpesRUX+5OozMLE5uLXVXo/1rPUqj%0AY3Ir3Y/3VD5diuowLLO3J1fxOe76+bh6rG8OQ3bvd8vpwFQTkMDjc34S2fEw%0ADZ8tRWn0+DflYS5m0f9r9OB8lJ/eHROx+sPozu5SlL/9jOvnI7+vjvkOgOli%0AFzbwKAz6Z3ETg1e//mX5cvLGmMH9QcTC3fRLN1/+9DXO+u6FBKaXgAQegUGc%0AvM0iVn6O0d8NH/rRPmf/EqJ5XL57uK8GeFCWsIGZNzjajtZxNdo/XeXj1T2L%0Au+8eaDPLvXsiR+byPossVqPimZTAFBOQwAy7fNRObSOiffBb1G/uZbzaDDNu%0A5/S9XdiTuN6Q04rtO9ff3siiuvki/DcOMM0sYQMzZDcald1bR6r5Y3S2xiwj%0ALzSitx9ReTVyH+RyO4626vc2vkwkv/5BOdae377P0j/iALNgbnFx8aLoSQB8%0AiU6nU/QUJtJsNoueAsBELGEDAJBEQAIAkERAAgCQREACAJBEQAIAkERAAgCQ%0AREACAJBEQAIAkERAAgCQREACAJBEQAIAkERAAgCQREACAJBEQAIAkERAAgCQ%0AREACAJBEQAIAkERAAgCQREACAJBk7mKo6EkAADA9/gH4yOtgvIhNpgAAAABJ%0ARU5ErkJggg==" alt="行内元素"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Demo<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="块状元素的水平居中（定宽）"><a href="#块状元素的水平居中（定宽）" class="headerlink" title="块状元素的水平居中（定宽）"></a>块状元素的水平居中（定宽）</h3><p>当被设置元素为定宽块级元素时用 <code>text-align:center</code> 就不起作用了。可以通过设置“左右margin”值为“auto”来实现居中的。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAApIAAAA1CAYAAADyDgsZAAABRklEQVR4nO3Z%0AIQ7CQBRF0UIaXPeAQrKtrqnrrMFBRpAgyTWF5Bwz9smb+afr7f5clmXa930C%0AAIBvnY8eAADAf5rHb+TwfgEA4BvzOGmPiLxMj6O3AB+2bTt6AvysdV2PngBM%0ATtsAAERCEgCAREgCAJAISQAAEiEJAEAiJAEASIQkAACJkAQAIBGSAAAkQhIA%0AgERIAgCQCEkAABIhCQBAIiQBAEiEJAAAiZAEACARkgAAJEISAIBESAIAkAhJ%0AAAASIQkAQCIkAQBIhCQAAImQBAAgEZIAACRCEgCAREgCAJAISQAAEiEJAEAi%0AJAEASIQkAACJkAQAIBGSAAAkQhIAgERIAgCQCEkAABIhCQBAIiQBAEiEJAAA%0AiZAEACARkgAAJEISAIBESAIAkAhJAAASIQkAQCIkAQBIhCQAAImQBAAgEZIA%0AACQvpN8MLeyfdmAAAAAASUVORK5CYII=" alt="块状元素的水平居中（定宽）"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="块状元素的水平居中（不定定宽）"><a href="#块状元素的水平居中（不定定宽）" class="headerlink" title="块状元素的水平居中（不定定宽）"></a>块状元素的水平居中（不定定宽）</h3><p>在实际工作中我们会遇到需要为“不定宽度的块级元素”设置居中，比如网页上的分页导航，因为分页的数量是不确定的，所以我们不能通过设置宽度来限制它的弹性。</p><p>可以直接给不定宽的块级元素设置text-align：center来实现，也可以给父元素加text-align:center 来实现居中效果。（文字内容区域居中）</p><p>当不定宽块级元素的宽度不要占一行时，可以设置display 为 inline 类型或inline-block（设置为 行内元素 显示或行内块元素）</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAApoAAAAqCAYAAAATWfujAAAC5klEQVR4nO3d%0AMWsbZxgH8MfFZNNUTZmirUu65DIZCvoCMYV4MdpCSrylHdrJGZypS9AWU/Bm%0AvMiL+gVUUjrpXfoJlCmTt1uypXdKsaXabUrbN++h/n6gAx1C/Mc/z3Mvt3X3%0A3s67uq4D+Li++O6H+PrTn+LLb89KRwGAa36d//yv/2P7P8gB/AOvvv8qXpUO%0AAQAZfVI6AAAAm2mrXZ2XDgEAwOZZrs5vxdvSOQAA2DBW5wAAZKFoAgCQhaIJ%0AAEAWiiYAAFkomgAAZKFoAgCQhaIJAEAWiiYAAFkomgAAZKFoAgCQhaIJAEAW%0AiiYAAFlslw4AsPRsEml4EePhQZyWzhKHMUm7MVi5U6dxDJ+UTzY6nsXTqnf5%0AvSu5AG5iogmUtf8yZilFejD48G8/ksPz3eg3Ba6qqvefF/OI6mmk88OywZoy%0A/ihOrnL9uIhek2t2PCqbC+BPKJpAMe10Lj2OOGlK0/R16TRXnj+s1qeEZwdx%0AkuqIO59H0ap5tLee62ga8yZWr9+dkg6wyuocKOb0yfByTV54VghABiaaAH/D%0AoN+LqC9iUTrIitHxo7jfW8T04fPSUQBuZKIJ8AHtin/3Tnvw5pfiB5UOz9My%0Ay9LraVSVkgl0l6IJ8Bcui11T6rpwurt9fvSyWrYn9VNy8hzoLKtzgJv8fhr+%0A/SRzHFUX19NHezFOdfSqXc+4Ap2kaAL8UVsyv7kfvVjEtKo6PS08fXPRXPtx%0Ae790EoDrFE2ANaN4+bgpmfU8xtVedHCOuWZ0u99cL+LNWekkANcpmgCr9nfi%0As17EYtaFNxStagrwbLK+In82Wb4lqE7Tzhdi4P/JYSCAGwwetG8run6/3MGb%0A0zgYDmLSvkXpKk3MX1RxYJoJdNTW3Xs7727F29I5AADYMFbnAABkoWgCAJCF%0AogkAQBaKJgAAWSiaAABkoWgCAJCFogkAQBaKJgAAWSiaAABkoWgCAJCFogkA%0AQBbb7SWlVDoHAAAb5jd4s6J56lROqAAAAABJRU5ErkJggg==" alt="块状元素的水平居中（不定定宽）"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">  <span class="attribute">text-align</span>:center;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#333</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">ul</span>&#123;</span><br><span class="line">  <span class="attribute">list-style</span>:none;</span><br><span class="line">  <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>:<span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>:inline-block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">li</span>&#123;</span><br><span class="line">  <span class="attribute">margin-right</span>:<span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">display</span>:inline-block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="二、垂直居中"><a href="#二、垂直居中" class="headerlink" title="二、垂直居中"></a>二、垂直居中</h2><p>首先设定两个条件，父元素是盒子元素且高度已经固定</p><h3 id="子元素是行内元素，高度是由其内容撑开"><a href="#子元素是行内元素，高度是由其内容撑开" class="headerlink" title="子元素是行内元素，高度是由其内容撑开"></a>子元素是行内元素，高度是由其内容撑开</h3><p>这种情况下，需要通过设定父元素的<code>line-height</code>为其高度来使得子元素垂直居中（line-height子元素是可以继承的，所以给父元素或者子元素设置都可以）</p><p><img src="data:image/png;base64,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%0AKgb+AAAAAElFTkSuQmCC" alt="垂直居中"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>demo<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-tag">p</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="子元素是块级元素（定高或者不定高）"><a href="#子元素是块级元素（定高或者不定高）" class="headerlink" title="子元素是块级元素（定高或者不定高）"></a>子元素是块级元素（定高或者不定高）</h3><p>在这里可以使用相对定位进行操作</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAApoAAABoCAYAAABRyVDEAAAEnElEQVR4nO3d%0Av0ubeRzA8U8P6eYUcMitHbro0sgNnRqESJf+A10udCiODio0YxzsULhFFCRd%0A7v6Fw4Dk/gADB3bp0K1cByGTS7deYlJN4o9K6+fihdcLEjD5Ps/zHd88z/cb%0A780/evzl5OQkAADgNv006QkAADCdZnpvs7Ozk54HAABT5jQ078fnSc8DAIAp%0A49E5AAAphCYAACmEJgAAKYQmAAAphCYAACmEJgAAKYQmAAAphCYAACmEJgAA%0AKYQmAAAphCYAACmEJgAAKYQmAAAphCYAACmEJgAAKYQmAAAphCYAACmEJgAA%0AKYQmAAAphCYAACmEJgAAKYQmAAAphCYAACmEJgAAKYQmAAAphCYAACmEJgAA%0AKYQmAAAphCYAACmEJgAAKYQmAAAphCYAACmEJgAAKYQmAAAphCYAACmEJgAA%0AKYQmAAAphCYAAClmem+7u7uTngcAAFPGHU0AAFIITQAAUghNAABSfDM0j/ZK%0AUSo14ui/mA0AAFPDHU0AAFIITQAAUghNAABSjIbm8X6slXprMvuvtWbnisM6%0Asb9xPq5UWov946Gv3zVOP2+8Gxu311/p2WmuDR17+frP/trQodfGflw1GwAA%0A7p7z0OzF4dNaxGYz2u326Ws9tqK6M35ILx4rUYt6NAfjmpsRtadjsdm1/etW%0AxOrXMeWIneppNFY+Ph9coxn1pe2ojkRkP06rH87Pfzque8WKTUkAAP8bg9Ds%0Axt0f2xFL9VivFM6+LFTWuyE4ekCnuRW1g3LUV5ejcDbueaxEK1p/j95zLG+u%0Ax/Lc8JielWi8WPh6ZCw+6QboQSsOj68+f2/c8mo9yrEdv195lxUAgLukH5rH%0Ah9E66Ibhk8WhuOspRPHB8N+dOPyr1Q3ScizODX/+cxS7Qdr6+M/I0Q+LhQtj%0A4mUpFoY+LRQf3uD8XXOLUb7kGgAA3E0zw3+MhuE1DnqPsWuXfPGpm4oLccOz%0AXO1B8epzfLilawAAkGokNN9/6kTM3yDhXjai/WLh2+O+13UxeV2EAgBwZ/Qf%0Anc8Vo/cA++Jj6aNoj2wGGqyp3Gknbcq5uGbzzODx/soviYELAMCtGWwGWohn%0Ag13hwz9pdLRXje2xA/qbei7bKX5x1/n3+LqxqPZm7PxvatFaqsez+R+/BgAA%0A+c4enRcqr6MZa1F5VYnSq/5nK2/b0YjS2E8cLUS13YgoVYfWaZaj/ufrsx3m%0AP6Z3/mYUNyqj60CzH9cDAHCr7s0/evzl7e5vk54HAABTxr+gBAAghdAEACCF%0A0AQAIMXpGs378XnS8wAAYMq4owkAQAqhCQBACqEJAEAKoQkAQAqhCQBACqEJ%0AAEAKoQkAQAqhCQBACqEJAEAKoQkAQAqhCQBACqEJAEAKoQkAQAqhCQBACqEJ%0AAEAKoQkAQAqhCQBACqEJAEAKoQkAQAqhCQBACqEJAEAKoQkAQAqhCQBACqEJ%0AAEAKoQkAQAqhCQBACqEJAEAKoQkAQAqhCQBACqEJAEAKoQkAQAqhCQBACqEJ%0AAEAKoQkAQAqhCQBACqEJAEAKoQkAQAqhCQBACqEJAECKmd5bu92e9DwAAJgy%0A/wIivOy+BL7z6QAAAABJRU5ErkJggg==" alt="子元素是块级元素（定高或者不定高）"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span>demo<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wrap</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-50%);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="水平垂直居中"><a href="#水平垂直居中" class="headerlink" title="水平垂直居中"></a>水平垂直居中</h3><h3 id="水平对齐-行高"><a href="#水平对齐-行高" class="headerlink" title="水平对齐+行高"></a>水平对齐+行高</h3><p><img src="data:image/png;base64,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%0AAABJRU5ErkJggg==" alt="水平对齐+行高"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>demo<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wrap</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wrap</span> <span class="selector-tag">p</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="水平-垂直对齐"><a href="#水平-垂直对齐" class="headerlink" title="水平+垂直对齐"></a>水平+垂直对齐</h3><h4 id="text-align-vertical-align"><a href="#text-align-vertical-align" class="headerlink" title="text-align + vertical-align"></a>text-align + vertical-align</h4><p>在父元素设置text-align和vertical-align，并将父元素设置为table-cell元素，子元素设置为inline-block元素</p><p><img src="data:image/png;base64,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%0AAABJRU5ErkJggg==" alt="水平+垂直对齐"></p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span>demo<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wrap</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1%</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">80px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">  <span class="attribute">display</span>: table-cell;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="若子元素是图像，可不使用table-cell，父元素用行高替代高度，且字体大小设为0。子元素本身设置vertical-align-middle"><a href="#若子元素是图像，可不使用table-cell，父元素用行高替代高度，且字体大小设为0。子元素本身设置vertical-align-middle" class="headerlink" title="若子元素是图像，可不使用table-cell，父元素用行高替代高度，且字体大小设为0。子元素本身设置vertical-align:middle"></a>若子元素是图像，可不使用table-cell，父元素用行高替代高度，且字体大小设为0。子元素本身设置vertical-align:middle</h4><p>既然设置为内联那么就会受空白区域的影响，这时候就需要用<code>font-size:0</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="相对-绝对定位"><a href="#相对-绝对定位" class="headerlink" title="相对+绝对定位"></a>相对+绝对定位</h3><p>使用absolute，利用绝对定位元素的盒模型特性，在偏移属性为确定值的基础上，设置margin:auto</p><p><img src="data:image/png;base64,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%0ARU5ErkJggg==" alt="相对+绝对定位"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span>demo<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wrap</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#333</span>; </span><br><span class="line"><span class="comment">/*     height:100px;  */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">80px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      CSS布局-对齐方式,主要介绍关于在重构页面中遇到的各种水平居中及垂直居中的问题。
    
    </summary>
    
      <category term="前端" scheme="http://londy.cc/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="html" scheme="http://londy.cc/tags/html/"/>
    
      <category term="css" scheme="http://londy.cc/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>webpack基本配置</title>
    <link href="http://londy.cc/2018/04/26/webpack-project/"/>
    <id>http://londy.cc/2018/04/26/webpack-project/</id>
    <published>2018-04-26T03:14:14.000Z</published>
    <updated>2018-06-04T02:56:15.179Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>现在的前端网页功能丰富，特别是SPA（single page web application 单页应用）技术流行后，JavaScript的复杂度增加和需要一大堆依赖包，还需要解决Sass，Less……新增样式的扩展写法的编译工作。所以现代化的前端已经完全依赖于WebPack的辅助了。</p><p>现在最流行的三个前端框架，可以说和webpack已经紧密相连，框架官方都推出了和自身框架依赖的webpack构建工具。</p><blockquote><ul><li>React.js+WebPack</li><li>Vue.js+WebPack</li><li>AngluarJS+WebPack</li></ul></blockquote><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>在安装webpack的之前，你首先要安装node、npm，因为webpack是一个基于node的项目，然后</p><p><code>cnpm install -g webpack</code></p><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>webpack简介：</p><p>webpack旨意；让一切变得简单，定义：MODULE BUNDLER</p><p>他的目的就是把有依赖关系的各种文件打包成一系列的静态资源。 请看下图</p><p><img src="https://gitee.com/londy/londy-images/blob/master/webpack/webpack.png" alt="cmd-markdown-logo"></p><p>webpack简单点来说就就是一个配置文件，所有的魔力都是在这一个文件中发生的。后期可以根据自己项目的需求，逐渐去添加各种配置文件，完成自己的webpack脚手架。 刚开始配置文件主要分为三大块：</p><blockquote><ul><li>entry 入口文件 让webpack用哪个文件作为项目的入口</li><li>output 出口 让webpack把处理完成的文件放在哪里</li><li>module 模块 要用什么不同的模块来处理各种类型的文件</li></ul></blockquote><h3 id="简单Demo"><a href="#简单Demo" class="headerlink" title="简单Demo"></a>简单Demo</h3><p>创建并格式化项目项目</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir londy-webpack</span><br><span class="line">cd londy-webpack</span><br><span class="line">cnpm init</span><br></pre></td></tr></table></figure><p>输入完成后，npm终端会问你关于项目的名称，描述……一堆内容，这些内容都不重要，而且我们后期还可以用文本的形式修改这些内容。现在我们只要一路回车就完成了初始化。这时候可以在根目录看到生成的package.json文件了 <small>里面包含了此项目的一些信息</small>。</p><h4 id="安装webpack-cli"><a href="#安装webpack-cli" class="headerlink" title="安装webpack-cli"></a>安装webpack-cli</h4><p>4.X之后的版本，CLI（命令行工具）已经转移到了一个单独的包webpack-cli中。<br>除了webpack自身外，请额外安装webpack-cli来使用CLI。 </p><p><code>cnpm install -g webpack-cli</code>  <small>尽量全局安装</small></p><p><code>cnpm install webpack-cli -D</code> <small>这里-D参数和–save-dev的作用相同，只是一种简写而已</small></p><p>如果你使用git管理你的这个项目的话，建议你新建一个.gitignore文件，不要让git提交一些node依赖的模块</p><p><code>node_modules</code></p><h4 id="建立基本项目结构"><a href="#建立基本项目结构" class="headerlink" title="建立基本项目结构"></a>建立基本项目结构</h4><p>创建入口文件</p><ol><li>在根目录下创建src文件夹，并创建<code>index.js</code>入口文件</li><li>在根目录下创建dist文件夹，并创建一个基本的<code>index.html</code>文件，在<code>body</code>中引入编译后的<code>main.js</code></li></ol><blockquote><p>webpack4.x是以项目根目录下的’./src’作为入口，webpack4.x的打包已经不能用webpack 文件a 文件b的方式,其中src目录即index.js文件需要手动创建，而dist目录及main.js会自动生成。因此我们不再按webpack 文件a 文件b的方式运行webpack指令，而是直接运行 <code>webpack --mode development</code>或<code>webpack --mode production</code></p></blockquote><h4 id="设置模式"><a href="#设置模式" class="headerlink" title="设置模式"></a>设置模式</h4><p>在这里有两种模式：</p><blockquote><ul><li>开发环境：<code>webpack --mode development</code></li><li>生产环境：<code>webpack --mode production</code></li></ul></blockquote><p>编辑<code>package.json</code>这个文件中的<code>scripts</code>中加入两个成员</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">    <span class="string">"dev"</span>: <span class="string">"webpack --mode development"</span>, <span class="comment">//开发环境</span></span><br><span class="line">    <span class="string">"build"</span>:<span class="string">"webpack --mode production"</span> <span class="comment">//生产环境</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="三、配置文件"><a href="#三、配置文件" class="headerlink" title="三、配置文件"></a>三、配置文件</h3><p><code>webpack.config.js</code>就是Webpack的配置文件，这个文件需要自己在项目根目录下手动建立。建立好后我们对其进行配置。</p><p>这是一个没有内容的标准webpack配置模版：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">    entry:&#123;&#125;,     <span class="comment">//入口文件的配置项 单一入口或者多入口</span></span><br><span class="line">    output:&#123;&#125;,    <span class="comment">//出口文件的配置项 支持多出口配置</span></span><br><span class="line">    <span class="built_in">module</span>:&#123;&#125;,    <span class="comment">//模块：例如解读CSS,图片如何转换，压缩</span></span><br><span class="line">    plugins:[],   <span class="comment">//插件，用于生产模版和各项功能</span></span><br><span class="line">    devServer:&#123;&#125;  <span class="comment">//配置webpack开发服务功能</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./src/index.js'</span>, <span class="comment">//入口文件的配置项 单一入口或者多入口</span></span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.join(__dirname, <span class="string">'dist'</span>), <span class="comment">// 出口目录，dist文件</span></span><br><span class="line">    filename: <span class="string">'[name].[hash].js'</span> <span class="comment">//这里name就是打包出来的文件名，因为是单入口，就是main</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;&#125;, <span class="comment">//模块：例如解读CSS,图片如何转换，压缩</span></span><br><span class="line">  plugins: [], <span class="comment">//插件，用于生产模版和各项功能</span></span><br><span class="line">  devServer: &#123;&#125; <span class="comment">//配置webpack开发服务功能</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="多入口、多出口配置"><a href="#多入口、多出口配置" class="headerlink" title="多入口、多出口配置"></a>多入口、多出口配置</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    main: <span class="string">'./src/main.js'</span>, </span><br><span class="line">    index: <span class="string">'./src/index.js'</span>, </span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//入口文件的配置项 单一入口或者多入口</span></span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.join(__dirname, <span class="string">'dist'</span>), <span class="comment">// 出口目录，dist文件</span></span><br><span class="line">    filename: <span class="string">'[name].[hash].js'</span> <span class="comment">//这里name就是打包出来的文件名，因为是单入口，就是main</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;&#125;, <span class="comment">//模块：例如解读CSS,图片如何转换，压缩</span></span><br><span class="line">  plugins: [], <span class="comment">//插件，用于生产模版和各项功能</span></span><br><span class="line">  devServer: &#123;&#125; <span class="comment">//配置webpack开发服务功能</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="配置webpack-dev-server"><a href="#配置webpack-dev-server" class="headerlink" title="配置webpack-dev-server"></a>配置webpack-dev-server</h4><p>首先安装 <code>npm install webpack-dev-server -D</code></p><p>修改<code>webpack.config.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">    contentBase: path.join(__dirname, <span class="string">"dist"</span>), <span class="comment">//静态文件根目录</span></span><br><span class="line">    port: <span class="number">9090</span>, <span class="comment">// 端口</span></span><br><span class="line">    host: <span class="string">'localhost'</span>,</span><br><span class="line">    overlay: <span class="literal">true</span>,</span><br><span class="line">    compress: <span class="literal">true</span> <span class="comment">// 服务器返回浏览器的时候是否启动gzip压缩</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改<code>package.json</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"dev"</span>: <span class="string">"webpack-dev-server --open --mode development"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>一个基于基本配置的demo就完成了</p><p>直接运行 <code>cnpm run build</code> 就可以看到页面打包的情况了。</p><h3 id="常用lodaer及插件介绍"><a href="#常用lodaer及插件介绍" class="headerlink" title="常用lodaer及插件介绍"></a>常用lodaer及插件介绍</h3><p>Loaders是Webpack最重要的功能之一，他也是Webpack如此盛行的原因。通过使用不同的Loader，Webpack可以的脚本和工具，从而对不同的文件格式进行特定处理。</p><p>Loaders实例：</p><blockquote><ul><li>可以把SASS文件的写法转换成CSS，而不在使用其他转换工具。</li><li>可以把ES6或者ES7的代码，转换成大多浏览器兼容的JS代码。</li><li>可以把React中的JSX转换成JavaScript代码。</li></ul></blockquote><p>注意：所有的Loaders都需要在npm中单独进行安装，并在webpack.config.js里进行配置。下面我们对Loaders的配置型简单梳理一下。</p><blockquote><ul><li>test：用于匹配处理文件的扩展名的表达式，这个选项是必须进行配置的；</li><li>use：loader名称，就是你要使用模块的名称，这个选项也必须进行配置，否则报错；</li><li>include/exclude:手动添加必须处理的文件（文件夹）或屏蔽不需要处理的文件（文件夹）（可选）；</li><li>query：为loaders提供额外的设置选项（可选）。</li></ul></blockquote><h4 id="模块：CSS文件打包"><a href="#模块：CSS文件打包" class="headerlink" title="模块：CSS文件打包"></a>模块：CSS文件打包</h4><p>命令： <code>cnpm i style-loader css-loader -D</code></p><p><code>webpack.config.js</code> Loaders的配置如下</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">rules: [</span><br><span class="line">  &#123;</span><br><span class="line">    test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">    use: [<span class="string">'style-loader'</span>,<span class="string">'css-loader'</span>],</span><br><span class="line">    include: path.join(__dirname, <span class="string">'src'</span>), <span class="comment">//限制范围，提高打包速度</span></span><br><span class="line">    exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><blockquote><ul><li>css-loader用来处理css中url的路径</li><li>style-loader可以把css文件变成style标签插入head中</li><li>多个loader是有顺序要求的，从右往左写，因为转换的时候是从右往左转换的</li></ul></blockquote><h4 id="打包HTML文件"><a href="#打包HTML文件" class="headerlink" title="打包HTML文件"></a>打包HTML文件</h4><p>首先安装插件<br><code>cnpm install --save-dev html-webpack-plugin</code></p><p>配置webpack.config.js文件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> htmlPlugin(&#123;</span><br><span class="line">    minify:&#123;</span><br><span class="line">        removeAttributeQuotes:<span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    hash:<span class="literal">true</span>,</span><br><span class="line">    template:<span class="string">'./src/index.html'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><ul><li>minify：是对html文件进行压缩，removeAttrubuteQuotes是却掉属性的双引号。</li><li>hash：为了开发中js有缓存效果，所以加入hash，这样可以有效避免缓存JS。</li><li>template：是要打包的html模版路径和文件名称。</li></ul></blockquote><h4 id="CSS中的图片处理"><a href="#CSS中的图片处理" class="headerlink" title="CSS中的图片处理"></a>CSS中的图片处理</h4><p>安装命令：<code>cnpm i file-loader url-loader -D</code></p><p>然后在weboack文件中配置如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  test: <span class="regexp">/\.(png|jpg|gif)/</span>,</span><br><span class="line">  use: [&#123;</span><br><span class="line">    loader: <span class="string">'url-loader'</span>,</span><br><span class="line">    options: &#123;</span><br><span class="line">      limit: <span class="number">500000</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><small><br>limit是用来判断其图片大小，进行不同的处理方式，当小于设定的值会打包为base64格式的</small></p><blockquote><ul><li>file-loader是解析图片地址，把图片从源文件拷贝到目标文件并且修改源文件名字</li><li>url-loader可以在文件比较小的时候，直接变成base64字符串内嵌到页面中</li></ul></blockquote><p>我们需要了解file-loader和url-loader的关系。url-loader和file-loader是什么关系呢？简答地说，url-loader封装了file-loader。url-loader不依赖于file-loader，即使用url-loader时，只需要安装url-loader即可，不需要安装file-loader，因为url-loader内置了file-loader。通过上面的介绍，我们可以看到，url-loader工作分两种情况：</p><ol><li>文件大小小于limit参数，url-loader将会把文件转为DataURL（Base64格式）；</li><li>文件大小大于limit，url-loader会调用file-loader进行处理，参数也会直接传给file-loader。</li></ol><p><small>也就是说，其实我们只安装一个url-loader就可以了</small></p><h4 id="CSS分离与图片路径处理"><a href="#CSS分离与图片路径处理" class="headerlink" title="CSS分离与图片路径处理"></a>CSS分离与图片路径处理</h4><p>第一个是把CSS从JavasScript代码中分离出来，第二个是如何处理分离出来后CSS中的图片路径不对问题</p><p>CSS分离:extract-text-webpack-plugin<br>安装： <code>cnpm i extract-text-webpack-plugin -D</code><br>引入： <code>const extractTextPlugin = require(&quot;extract-text-webpack-plugin&quot;)</code><br>设置Plugins: <code>new extractTextPlugin(&quot;/css/index.css&quot;)</code><br>这里的/css/index.css是分离后的路径位置。这部配置完成后，包装代码：还要修改原来我们的style-loader和css-loader。</p><p>在webpack.config.js中修改配置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">  use: extractTextPlugin.extract(&#123;</span><br><span class="line">    fallback: <span class="string">"style-loader"</span>,</span><br><span class="line">    use: <span class="string">"css-loader"</span></span><br><span class="line">  &#125;),</span><br><span class="line">  include: path.join(__dirname, <span class="string">'src'</span>), <span class="comment">//限制范围，提高打包速度</span></span><br><span class="line">  exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>plugins设置保存css的路径</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> extractTextPlugin(&#123;</span><br><span class="line">  filename: <span class="string">'css/[name].[hash].css'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>如果最后打包出现错误则安装<code>cnpm i extract-text-webpack-plugin@next -D</code> 针对webpack4.x</p><h4 id="图片保存路径"><a href="#图片保存路径" class="headerlink" title="图片保存路径"></a>图片保存路径</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.(png|jpg|gif|jpeg|svg)/</span>,</span><br><span class="line">    use: [&#123;</span><br><span class="line">      loader: <span class="string">'url-loader'</span>,</span><br><span class="line">      options: &#123;</span><br><span class="line">        outputPath: <span class="string">'images/'</span>, <span class="comment">//图片输出路径</span></span><br><span class="line">        limit: <span class="number">5</span>*<span class="number">1024</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改出口配置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">    path: path.join(__dirname, <span class="string">'dist'</span>), <span class="comment">// 出口目录，dist文件</span></span><br><span class="line">    filename: <span class="string">'[name].js'</span>, <span class="comment">//这里name就是打包出来的文件名，因为是单入口，就是main，多入口下回分解</span></span><br><span class="line">    publicPath: <span class="string">'/'</span>  <span class="comment">//同时要处理打包图片路径问题</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="处理在html中引入图片打包问题"><a href="#处理在html中引入图片打包问题" class="headerlink" title="处理在html中引入图片打包问题"></a>处理在html中引入图片打包问题</h4><p>安装：<br><code>cnpm install html-withimg-loader --save</code><br>配置loader:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.(htm|html)$/i</span>,</span><br><span class="line">    use:[ <span class="string">'html-withimg-loader'</span>] </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="SASS文件的打包和分离"><a href="#SASS文件的打包和分离" class="headerlink" title="SASS文件的打包和分离"></a>SASS文件的打包和分离</h4><p>首先需要安装两个插件<code>node-sass</code>和<code>sass-loader</code><br>其次在配置文件中配置loader</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.sass$/</span>,</span><br><span class="line">    use: ExtractTextWebpackPlugin.extract(&#123;</span><br><span class="line">      use: [&#123;</span><br><span class="line">        loader: <span class="string">'css-loader'</span></span><br><span class="line">      &#125;,&#123;</span><br><span class="line">        loader: <span class="string">'sass-loader'</span></span><br><span class="line">      &#125;],</span><br><span class="line">      fallback: <span class="string">'style-loader'</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="自动处理CSS3属性前缀"><a href="#自动处理CSS3属性前缀" class="headerlink" title="自动处理CSS3属性前缀"></a>自动处理CSS3属性前缀</h4><p>PostCSS</p><p>PostCSS是一个CSS的处理平台，它可以帮助你的CSS实现更多的功能，但是今天我们就通过其中的一个加前缀的功能，初步了解一下PostCSS。</p><p>需要安装两个包postcss-loader 和autoprefixer（自动添加前缀的插件）</p><p><code>cnpm install --save-dev postcss-loader autoprefixer</code></p><p>postcss.config.js</p><p>postCSS推荐在项目根目录（和webpack.config.js同级），建立一个postcss.config.js文件。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">      <span class="built_in">require</span>(<span class="string">'autoprefixer'</span>)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这就是对postCSS一个简单的配置，引入了autoprefixer插件。让postCSS拥有添加前缀的能力，它会根据 can i use 来增加相应的css3属性前缀。</p><p>其次修改我们的webpack.config,js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">    use: extractTextPlugin.extract(&#123;</span><br><span class="line">        fallback: <span class="string">'style-loader'</span>,</span><br><span class="line">        use: [</span><br><span class="line">            &#123; <span class="attr">loader</span>: <span class="string">'css-loader'</span>, <span class="attr">options</span>: &#123; <span class="attr">importLoaders</span>: <span class="number">1</span> &#125; &#125;,</span><br><span class="line">            <span class="string">'postcss-loader'</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="消除未使用的CSS"><a href="#消除未使用的CSS" class="headerlink" title="消除未使用的CSS"></a>消除未使用的CSS</h4><p><code>cnpm i -D purifycss-webpack purify-css</code></p><p>引入glob</p><p>因为我们需要同步检查html模板，所以我们需要引入node的glob对象使用。在webpack.config.js文件头部引入glob。</p><p>引入purifycss-webpack</p><p>同样在webpack.config.js文件头部引入purifycss-webpack</p><p><code>const PurifyCSSPlugin = require(&quot;purifycss-webpack&quot;)</code></p><p>在webpack.config.js中添加配置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> PurifyCSSPlugin(&#123;</span><br><span class="line">  paths: glob.sync(path.join(__dirname, <span class="string">'src/*.html'</span>)),</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="给webpack增加babel支持"><a href="#给webpack增加babel支持" class="headerlink" title="给webpack增加babel支持"></a>给webpack增加babel支持</h3><p>Babel是什么？ <small>就是一个转码器</small></p><p>Babel其实是一个编译JavaScript的平台，它的强大之处表现在可以通过便宜帮你达到以下目的：</p><blockquote><ul><li>使用下一代的javaScript代码(ES6,ES7….)，即使这些标准目前并未被当前的浏览器完全支持。</li><li>使用基于JavaScript进行了扩展的语言，比如React的JSX。</li></ul></blockquote><p>我们先一次性安装这些依赖包<br><code>cnpm install --save-dev babel-core babel-loader babel-preset-es2015 babel-preset-react</code></p><p>.babelrc配置</p><p>因为babely有很多的配置项，为了以后不必要的麻烦直接在根目录下创建.babelrc文件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"presets"</span>:[<span class="string">"react"</span>,<span class="string">"es2015"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>.webpack.config.js里的loader配置</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  test:<span class="regexp">/\.(jsx|js)$/</span>,</span><br><span class="line">  use:&#123;</span><br><span class="line">      loader:<span class="string">'babel-loader'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  exclude:<span class="regexp">/node_modules/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在这里也可以使用另外一种转码方式env</p><h3 id="安装第三方库-Jquery"><a href="#安装第三方库-Jquery" class="headerlink" title="安装第三方库 Jquery"></a>安装第三方库 Jquery</h3><p><code>cnpm install --save jquery</code></p><p>安装时需要注意的时Jquery最终要在生产环境中使用，所以我们这里要使用–save进行安装。</p><p>引入方式选择用plugin全局引入：</p><p>ProvidePlugin是一个webpack自带的插件，Provide的意思就是装备、提供。因为ProvidePlugin是webpack自带的插件，所以要先再webpack.config.js中引入webpack。</p><p><code>const webpack = require(&#39;webpack&#39;)</code></p><p>然后在plugins模块添加：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">new webpack.ProvidePlugin(&#123;</span><br><span class="line">    $:&quot;jquery&quot;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      现在的前端网页功能丰富，特别是SPA（single page web application 单页应用）技术流行后，JavaScript的复杂度增加和需要一大堆依赖包，还需要解决Sass，Less......新增样式的扩展写法的编译工作。所以现代化的前端已经完全依赖于WebPack的辅助了
    
    </summary>
    
      <category term="前端" scheme="http://londy.cc/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="webpack" scheme="http://londy.cc/tags/webpack/"/>
    
  </entry>
  
  <entry>
    <title>免费SSL证书 : Let’s Encrypt安装使用教程: Nginx配置SSL</title>
    <link href="http://londy.cc/2017/10/29/%E5%85%8D%E8%B4%B9SSL%E8%AF%81%E4%B9%A6-Let%E2%80%99s-Encrypt%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B-Nginx%E9%85%8D%E7%BD%AESSL/"/>
    <id>http://londy.cc/2017/10/29/免费SSL证书-Let’s-Encrypt安装使用教程-Nginx配置SSL/</id>
    <published>2017-10-29T06:11:16.000Z</published>
    <updated>2018-06-04T02:56:15.179Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一-、快速获取Let’s-Encrypt免费SSL证书"><a href="#一-、快速获取Let’s-Encrypt免费SSL证书" class="headerlink" title="一 、快速获取Let’s Encrypt免费SSL证书"></a>一 、快速获取Let’s Encrypt免费SSL证书</h2><p>首先确保你的系统已安装git，然后再进行以下操作：</p><h3 id="在这里只介绍常用的两个获取证书的模式"><a href="#在这里只介绍常用的两个获取证书的模式" class="headerlink" title="在这里只介绍常用的两个获取证书的模式"></a>在这里只介绍常用的两个获取证书的模式</h3><h4 id="Standalone"><a href="#Standalone" class="headerlink" title="Standalone"></a>Standalone</h4><p>使用独立模式进行自动验证，需要在 目标服务器 上运行 Let’s Encrypt 客户端，并指定 certonly 和 –standalone参数。本模式需要绑定 80 或 443 端口进行域名验证，所以如果服务器上已有web server运行并侦听这2个端口，则需要先关闭web server。</p><p>运行命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./letsencrypt-auto certonly --standalone  -d yourwebsite.com --email youremail.com</span><br></pre></td></tr></table></figure><h4 id="Webroot"><a href="#Webroot" class="headerlink" title="Webroot"></a>Webroot</h4><p>如果 目标服务器 已有web server运行，并且不能够关闭服务来获取和安装证书，可以使用 Webroot plugin。在运行 Let’s Encrypt 客户端时指定 certonly和 –webroot 参数，并使用 –webroot-path 或-w 参数来指定 webroot 目录，比如 –webroot-path /web/www</p><p>运行命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./letsencrypt-auto certonly --standalone  -d yourwebsite.com --email youremail.com</span><br><span class="line">./letsencrypt-auto certonly --webroot --webroot-path /web/www -d yourwebsite.com --agree-tos --email youremail</span><br></pre></td></tr></table></figure> <h4 id="以下是使用独立模式来获取证书的："><a href="#以下是使用独立模式来获取证书的：" class="headerlink" title="以下是使用独立模式来获取证书的："></a>以下是使用独立模式来获取证书的：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/letsencrypt/letsencrypt </span><br><span class="line">cd letsencrypt</span><br><span class="line">./letsencrypt-auto certonly --standalone  -d yourwebsite.com --email youremail.com</span><br></pre></td></tr></table></figure> <p>上述命令中<code>yourwebsite.com</code>为你的域名，如果有二级域名则在后面继续加 <code>-d hs.yourwebsite.com</code> , <code>--email</code> 参数后面需要填写你的邮箱。如果不写邮箱这个参数，在安装过程中会提示让你输入你的邮箱（邮箱也是很重要的，在后期证书到期并且没有自动续期，会给你发邮件提示的）。</p><p>可能会出现错误：   </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OSError: Command /opt/eff.org/certbot/venv/bin/python2.7 - setuptools pkg_resources pip wheel failed with error code 2</span><br></pre></td></tr></table></figure> <p>通过搜索，找到了原因是说，系统安装了多个版本的python，那么怎么解决呢？<br>解决方法： </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get purge python-virtualenv python3-virtualenv virtualenv</span><br><span class="line">pip install virtualenv</span><br></pre></td></tr></table></figure>  <p>然后再次执行ssl证书生成命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./letsencrypt-auto certonly --standalone  -d yourwebsite.com --email youremail.com</span><br></pre></td></tr></table></figure><blockquote><p>正确之后会出现图形界面输入邮箱、条款、等信息（略…）</p></blockquote><p>当出现以下信息时，则证明你的证书已申请成功：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">IMPORTANT NOTES:</span><br><span class="line">- Congratulations! Your certificate and chain have been saved at</span><br><span class="line">/etc/letsencrypt/live/yourwebsite.com/fullchain.pem. Your cert will</span><br><span class="line">expire on 2017-12-26. To obtain a new version of the certificate in</span><br><span class="line">the future, simply run Let&apos;s Encrypt again.</span><br><span class="line">- If you like Let&apos;s Encrypt, please consider supporting our work by:</span><br><span class="line">Donating to ISRG / Let&apos;s Encrypt:  https://letsencrypt.org/donate</span><br><span class="line">Donating to EFF:                    https://eff.org/donate-le</span><br></pre></td></tr></table></figure> <h2 id="二-、配置"><a href="#二-、配置" class="headerlink" title="二 、配置"></a>二 、配置</h2><p>生成证书后。生成的位置位于<code>/etc/letsencrypt/live/你的域名/</code> 目录下（记得备份下）。<br>文件介绍：  </p><table><thead><tr><th style="text-align:center">文件名</th><th style="text-align:center">内容</th></tr></thead><tbody><tr><td style="text-align:center">cert.pem</td><td style="text-align:center">服务端证书</td></tr><tr><td style="text-align:center">chain.pem</td><td style="text-align:center">浏览器需要的所有证书,但不包括服务端证书，比如根证书和中间证书</td></tr><tr><td style="text-align:center">fullchain.pem</td><td style="text-align:center">包括了cert.pem和chain.pem的内容</td></tr><tr><td style="text-align:center">privkey.pem</td><td style="text-align:center">证书的私钥</td></tr></tbody></table><p>在这里我们只需要两个文件 <code>fullchain.pem</code>和<code>privkey.pem</code></p><p>在nginx配置文件的server中增加下面代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  listen 443 ssl;</span><br><span class="line">  listen [::]:443 ssl ipv6only=on;</span><br><span class="line">  root  /wwwroot/hs/hs.yourwebsite.org;</span><br><span class="line">  ssl on;</span><br><span class="line">    ssl_certificate /etc/letsencrypt/live/hs.yourwebsite.org/fullchain.pem;</span><br><span class="line">    ssl_certificate_key /etc/letsencrypt/live/hs.yourwebsite.org/privkey.pem;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssl_certificate /etc/letsencrypt/live/hs.yourwebsite.org/fullchain.pem;  #对应位置要写对</span><br><span class="line">ssl_certificate_key /etc/letsencrypt/live/hs.yourwebsite.org/privkey.pem;#对应位置要写对</span><br></pre></td></tr></table></figure><p>重启nginx </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service nginx start</span><br></pre></td></tr></table></figure><blockquote><p>打开网站：<a href="https://your.website.com" target="_blank" rel="noopener">https://your.website.com</a> 如果看到浏览器的绿色标志，恭喜你设置成功！</p></blockquote><h2 id="三、-更新以及自动更新"><a href="#三、-更新以及自动更新" class="headerlink" title="三、    更新以及自动更新"></a>三、    更新以及自动更新</h2><h3 id="手动更新："><a href="#手动更新：" class="headerlink" title="手动更新："></a>手动更新：</h3><p><code>./letsencrypt-auto renew</code> </p><h3 id="自动更新："><a href="#自动更新：" class="headerlink" title="自动更新："></a>自动更新：</h3><p>首先创建脚本任务，保存目录为你要想保存到的目录下面，创建  <code>/etc/letsssl/restartup.sh</code>  在这里我把脚本文件存放在了<code>/etc/letsssl/</code>目录下。</p><p>脚本代码:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line"># This script renews all the Let&apos;s Encrypt certificates with a validity &lt; 30 days</span><br><span class="line">if ! /letsencrypt/letsencrypt-auto renew &gt; /var/log/letsencrypt/renew.log 2&gt;&amp;1 ; then</span><br><span class="line">echo Automated renewal failed:</span><br><span class="line">service nginx reload;</span><br><span class="line">exit 1;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><br>增加权限：<br><code>chmod +x</code> 设定的脚本.sh;<br>创建定时任务：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br><span class="line"> 0 0 3 * * /bin/sh /etc/letsssl/restartup.sh &gt;/dev/null 2&gt;&amp;1 &amp; #每月1号凌晨3点执行</span><br></pre></td></tr></table></figure>  </p><h2 id="四、撤销证书"><a href="#四、撤销证书" class="headerlink" title="四、撤销证书"></a>四、撤销证书</h2><p>执行以下代码就可直接撤销证书：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./letsencrypt-auto revoke --cert-path /etc/letsencrypt/live/yourwebsite.com/cert.pem</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      免费SSL证书 : Let’s Encrypt安装使用教程: Nginx配置SSL
    
    </summary>
    
      <category term="随笔" scheme="http://londy.cc/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="nginx" scheme="http://londy.cc/tags/nginx/"/>
    
      <category term="ssl" scheme="http://londy.cc/tags/ssl/"/>
    
  </entry>
  
</feed>
